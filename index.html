<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icy's Winter Wonderland ‚ùÑÔ∏è</title>
    
    <!-- Favicon (Browser Tab Icon) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ùÑÔ∏è</text></svg>">
    
    <!-- Apple Touch Icon for iPad Home Screen -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 180 180%22><rect width=%22180%22 height=%22180%22 fill=%22%23a1c4fd%22 rx=%2230%22/><text x=%2290%22 y=%22135%22 font-size=%22120%22 text-anchor=%22middle%22>‚ùÑÔ∏è</text></svg>">
    
    <!-- Make it work like a standalone app -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Icy's Winter">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Meta Tags for Social Media Previews -->
    <meta name="description" content="A magical winter wonderland activity hub for kids! Draw, play games, hear stories, and learn new words!">
    <meta property="og:title" content="Icy's Winter Wonderland ‚ùÑÔ∏è">
    <meta property="og:description" content="A magical winter wonderland activity hub for kids! Draw, play games, hear stories, and learn new words!">
    <meta property="og:image" content="https://raw.githubusercontent.com/yourusername/icy-winter-wonderland/main/thumbnail.png">
    <meta property="og:url" content="https://yourusername.github.io/icy-winter-wonderland/">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Icy's Winter Wonderland ‚ùÑÔ∏è">
    <meta name="twitter:description" content="A magical winter wonderland activity hub for kids!">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/yourusername/icy-winter-wonderland/main/thumbnail.png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bubblegum+Sans&family=Nunito:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --ice-blue: #e0f7fa;
            --deep-snow: #a1c4fd;
            --magic-purple: #b19cd9;
            --white-snow: #ffffff;
            --text-dark: #2c3e50;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--ice-blue) 0%, var(--deep-snow) 100%);
            min-height: 100vh;
            color: var(--text-dark);
        }
        
        /* Navigation Bar */
        .navbar {
            background: var(--white-snow);
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .nav-btn {
            background: var(--magic-purple);
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Bubblegum Sans', cursive;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        
        .nav-btn.active {
            background: var(--deep-snow);
            color: var(--text-dark);
        }
        
        /* Content Container */
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Dashboard */
        .welcome {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            margin-bottom: 30px;
        }
        
        .welcome h1 {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 3rem;
            color: var(--magic-purple);
            margin-bottom: 20px;
        }
        
        .activity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .activity-card {
            background: white;
            padding: 30px;
            border-radius: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .activity-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .activity-card .emoji {
            font-size: 4rem;
            margin-bottom: 15px;
        }
        
        .activity-card h3 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            font-size: 1.5rem;
        }
        
        /* Art Studio */
        .art-studio {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .art-studio h2 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .art-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .color-btn, .tool-btn {
            width: 60px;
            height: 60px;
            border: 3px solid var(--text-dark);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .color-btn:hover, .tool-btn:hover {
            transform: scale(1.1);
        }
        
        .color-btn.active, .tool-btn.active {
            border: 5px solid var(--magic-purple);
            box-shadow: 0 0 15px var(--magic-purple);
        }
        
        #drawingCanvas {
            border: 5px solid var(--deep-snow);
            border-radius: 15px;
            cursor: crosshair;
            display: block;
            margin: 20px auto;
            background: white;
            touch-action: none;
            max-width: 100%;
        }
        
        .sticker-overlay {
            position: absolute;
            cursor: move;
            font-size: 3rem;
            user-select: none;
        }
        
        .btn-primary {
            background: var(--magic-purple);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-family: 'Bubblegum Sans', cursive;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: block;
            margin: 20px auto;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        
        /* Memory Game */
        .memory-game {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .memory-game h2 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 600px;
            margin: 30px auto;
        }
        
        .memory-card {
            aspect-ratio: 1;
            background: var(--deep-snow);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            cursor: pointer;
            transition: all 0.6s;
            transform-style: preserve-3d;
            position: relative;
        }
        
        .memory-card.flipped {
            transform: rotateY(180deg);
        }
        
        .memory-card.matched {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
        }
        
        .card-front {
            background: var(--deep-snow);
        }
        
        .card-back {
            background: white;
            transform: rotateY(180deg);
        }
        
        /* Snowball Pop */
        .snowball-game {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .snowball-game h2 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .score-display {
            text-align: center;
            font-size: 2rem;
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            margin-bottom: 20px;
        }
        
        #gameCanvas {
            border: 5px solid var(--deep-snow);
            border-radius: 15px;
            display: block;
            margin: 0 auto;
            cursor: pointer;
            background: linear-gradient(to bottom, #e0f7fa 0%, #ffffff 100%);
            max-width: 100%;
        }
        
        /* Story Engine */
        .story-engine {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .story-engine h2 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .story-content {
            background: var(--ice-blue);
            padding: 30px;
            border-radius: 20px;
            font-size: 1.3rem;
            line-height: 2;
            margin: 20px 0;
            min-height: 200px;
        }
        
        .story-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* Vocabulary Builder */
        .vocab-builder {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .vocab-builder h2 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--magic-purple);
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .vocab-card {
            background: var(--ice-blue);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin: 20px 0;
        }
        
        .vocab-emoji {
            font-size: 6rem;
            margin-bottom: 20px;
        }
        
        .vocab-word {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 3rem;
            color: var(--magic-purple);
            margin-bottom: 15px;
        }
        
        .vocab-definition {
            font-size: 1.5rem;
            line-height: 1.8;
            color: var(--text-dark);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .welcome h1 {
                font-size: 2rem;
            }
            
            .memory-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .nav-btn {
                font-size: 1rem;
                padding: 10px 15px;
            }
            
            .activity-card .emoji {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <button class="nav-btn active" onclick="showSection('dashboard')">üè† Home</button>
        <button class="nav-btn" onclick="showSection('art')">üé® Art</button>
        <button class="nav-btn" onclick="showSection('memory')">üß† Memory</button>
        <button class="nav-btn" onclick="showSection('snowball')">‚ùÑÔ∏è Snowball</button>
        <button class="nav-btn" onclick="showSection('story')">üìñ Story</button>
        <button class="nav-btn" onclick="showSection('vocab')">üìö Words</button>
    </nav>

    <div class="container">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="welcome">
                <h1>Hi Icy! ‚ùÑÔ∏è</h1>
                <p style="font-size: 1.5rem; color: var(--deep-snow);">Welcome to your Winter Wonderland!</p>
            </div>
            
            <div class="activity-grid">
                <div class="activity-card" onclick="showSection('art')">
                    <div class="emoji">üé®</div>
                    <h3>Art Studio</h3>
                </div>
                <div class="activity-card" onclick="showSection('memory')">
                    <div class="emoji">üß†</div>
                    <h3>Memory Match</h3>
                </div>
                <div class="activity-card" onclick="showSection('snowball')">
                    <div class="emoji">‚ùÑÔ∏è</div>
                    <h3>Snowball Pop</h3>
                </div>
                <div class="activity-card" onclick="showSection('story')">
                    <div class="emoji">üìñ</div>
                    <h3>Story Time</h3>
                </div>
                <div class="activity-card" onclick="showSection('vocab')">
                    <div class="emoji">üìö</div>
                    <h3>Word Power</h3>
                </div>
            </div>
        </section>

        <!-- Art Studio Section -->
        <section id="art" class="section">
            <div class="art-studio">
                <h2>üé® Icy's Art Studio</h2>
                
                <div class="art-controls">
                    <div class="color-btn active" onclick="selectColor('#e0f7fa')" style="background: #e0f7fa;"></div>
                    <div class="color-btn" onclick="selectColor('#ff69b4')" style="background: #ff69b4;"></div>
                    <div class="color-btn" onclick="selectColor('#b19cd9')" style="background: #b19cd9;"></div>
                    <div class="color-btn" onclick="selectColor('#000000')" style="background: #000000;"></div>
                    
                    <div class="tool-btn" onclick="selectSticker('üêß')">üêß</div>
                    <div class="tool-btn" onclick="selectSticker('‚ùÑÔ∏è')">‚ùÑÔ∏è</div>
                    <div class="tool-btn" onclick="selectSticker('‚≠ê')">‚≠ê</div>
                    <div class="tool-btn" onclick="selectSticker('ü¶Ñ')">ü¶Ñ</div>
                </div>
                
                <div style="position: relative;">
                    <canvas id="drawingCanvas" width="800" height="600"></canvas>
                </div>
                
                <button class="btn-primary" onclick="clearCanvas()">Clear Canvas üóëÔ∏è</button>
            </div>
        </section>

        <!-- Memory Match Section -->
        <section id="memory" class="section">
            <div class="memory-game">
                <h2>üß† Memory Match Game</h2>
                <button class="btn-primary" onclick="initMemoryGame()">New Game üéÆ</button>
                <div class="memory-grid" id="memoryGrid"></div>
            </div>
        </section>

        <!-- Snowball Pop Section -->
        <section id="snowball" class="section">
            <div class="snowball-game">
                <h2>‚ùÑÔ∏è Snowball Pop Game</h2>
                <div class="score-display">Score: <span id="score">0</span></div>
                <canvas id="gameCanvas" width="600" height="500"></canvas>
            </div>
        </section>

        <!-- Story Engine Section -->
        <section id="story" class="section">
            <div class="story-engine">
                <h2>üìñ Icy's Story Time</h2>
                <div class="story-content" id="storyContent">
                    Click "New Story" to create a magical tale! ‚ú®
                </div>
                <div class="story-controls">
                    <button class="btn-primary" onclick="generateStory()">New Story üìö</button>
                    <button class="btn-primary" onclick="readStory()">Read to Me üîä</button>
                </div>
            </div>
        </section>

        <!-- Vocabulary Builder Section -->
        <section id="vocab" class="section">
            <div class="vocab-builder">
                <h2>üìö Word Power</h2>
                <div class="vocab-card">
                    <div class="vocab-emoji" id="vocabEmoji">üèîÔ∏è</div>
                    <div class="vocab-word" id="vocabWord">Glacier</div>
                    <div class="vocab-definition" id="vocabDefinition">
                        A huge river of ice that moves very slowly down a mountain!
                    </div>
                </div>
                <button class="btn-primary" onclick="nextWord()">Next Word ‚û°Ô∏è</button>
                <button class="btn-primary" onclick="teachWord()">Listen to Teacher üîä</button>
            </div>
        </section>
    </div>

    <script>
        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
            
            if (sectionId === 'snowball') {
                initSnowballGame();
            }
        }

        // Art Studio
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let currentColor = '#e0f7fa';
        let currentSticker = null;
        let stickers = [];

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);
        
        // Touch support
        canvas.addEventListener('touchstart', handleTouch);
        canvas.addEventListener('touchmove', handleTouch);
        canvas.addEventListener('touchend', stopDrawing);

        function handleTouch(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            const x = touch.clientX - rect.left;
            const y = touch.clientY - rect.top;
            
            if (currentSticker) {
                placeSticker(x, y);
            } else {
                if (e.type === 'touchstart') {
                    isDrawing = true;
                    ctx.beginPath();
                    ctx.moveTo(x, y);
                } else if (e.type === 'touchmove' && isDrawing) {
                    ctx.lineTo(x, y);
                    ctx.strokeStyle = currentColor;
                    ctx.lineWidth = 5;
                    ctx.lineCap = 'round';
                    ctx.stroke();
                }
            }
        }

        function startDrawing(e) {
            if (currentSticker) {
                placeSticker(e.offsetX, e.offsetY);
                return;
            }
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
        }

        function draw(e) {
            if (!isDrawing || currentSticker) return;
            ctx.lineTo(e.offsetX, e.offsetY);
            ctx.strokeStyle = currentColor;
            ctx.lineWidth = 5;
            ctx.lineCap = 'round';
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function selectColor(color) {
            currentColor = color;
            currentSticker = null;
            document.querySelectorAll('.color-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
        }

        function selectSticker(emoji) {
            currentSticker = emoji;
            document.querySelectorAll('.tool-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.color-btn').forEach(btn => btn.classList.remove('active'));
        }

        function placeSticker(x, y) {
            if (!currentSticker) return;
            
            const sticker = document.createElement('div');
            sticker.className = 'sticker-overlay';
            sticker.textContent = currentSticker;
            sticker.style.left = (x + canvas.offsetLeft) + 'px';
            sticker.style.top = (y + canvas.offsetTop) + 'px';
            
            canvas.parentElement.appendChild(sticker);
            
            let isDragging = false;
            let offsetX, offsetY;
            
            sticker.addEventListener('mousedown', (e) => {
                isDragging = true;
                offsetX = e.clientX - sticker.offsetLeft;
                offsetY = e.clientY - sticker.offsetTop;
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    sticker.style.left = (e.clientX - offsetX) + 'px';
                    sticker.style.top = (e.clientY - offsetY) + 'px';
                }
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            document.querySelectorAll('.sticker-overlay').forEach(s => s.remove());
        }

        // Memory Game
        const emojis = ['üêß', '‚ùÑÔ∏è', '‚õÑ', 'ü¶≠', 'üêª‚Äç‚ùÑÔ∏è', 'üéø'];
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        function initMemoryGame() {
            const grid = document.getElementById('memoryGrid');
            grid.innerHTML = '';
            memoryCards = [...emojis, ...emojis].sort(() => Math.random() - 0.5);
            flippedCards = [];
            matchedPairs = 0;
            
            memoryCards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.innerHTML = `
                    <div class="card-front">‚ùì</div>
                    <div class="card-back">${emoji}</div>
                `;
                card.dataset.emoji = emoji;
                card.dataset.index = index;
                card.addEventListener('click', flipCard);
                grid.appendChild(card);
            });
        }

        function flipCard() {
            if (flippedCards.length === 2 || this.classList.contains('flipped')) return;
            
            this.classList.add('flipped');
            flippedCards.push(this);
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 800);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.emoji === card2.dataset.emoji) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                
                if (matchedPairs === emojis.length) {
                    setTimeout(() => alert('üéâ You found all the pairs! Great job, Icy! üéâ'), 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }
            
            flippedCards = [];
        }

        // Initialize on load
        initMemoryGame();

        // Snowball Pop Game
        const gameCanvas = document.getElementById('gameCanvas');
        const gameCtx = gameCanvas.getContext('2d');
        let snowballs = [];
        let score = 0;
        let gameActive = false;
        let animationId;

        function initSnowballGame() {
            if (gameActive) return;
            gameActive = true;
            snowballs = [];
            score = 0;
            document.getElementById('score').textContent = score;
            gameLoop();
        }

        function createSnowball() {
            return {
                x: Math.random() * (gameCanvas.width - 60) + 30,
                y: gameCanvas.height + 30,
                radius: 30,
                speed: 2 + Math.random() * 2
            };
        }

        function drawSnowball(ball) {
            gameCtx.beginPath();
            gameCtx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
            gameCtx.fillStyle = '#ffffff';
            gameCtx.fill();
            gameCtx.strokeStyle = '#a1c4fd';
            gameCtx.lineWidth = 3;
            gameCtx.stroke();
            
            gameCtx.font = '30px Arial';
            gameCtx.textAlign = 'center';
            gameCtx.textBaseline = 'middle';
            gameCtx.fillText('‚ùÑÔ∏è', ball.x, ball.y);
        }

        function gameLoop() {
            if (!gameActive) return;
            
            gameCtx.clearRect(0, 0, gameCanvas.width, gameCanvas.height);
            
            // Spawn new snowballs
            if (Math.random() < 0.02 && snowballs.length < 8) {
                snowballs.push(createSnowball());
            }
            
            // Update and draw snowballs
            snowballs = snowballs.filter(ball => {
                ball.y -= ball.speed;
                drawSnowball(ball);
                return ball.y > -50;
            });
            
            animationId = requestAnimationFrame(gameLoop);
        }

        gameCanvas.addEventListener('click', (e) => {
            const rect = gameCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            snowballs = snowballs.filter(ball => {
                const distance = Math.sqrt((x - ball.x) ** 2 + (y - ball.y) ** 2);
                if (distance < ball.radius) {
                    score++;
                    document.getElementById('score').textContent = score;
                    return false;
                }
                return true;
            });
        });

        // Story Engine
        const storyChapters = {
            discovery: [
                "One snowy morning, Icy woke up to find a magical snowflake on her window. It sparkled with all the colors of the rainbow! ",
                "Icy was playing in her backyard when she discovered a secret door hidden behind the biggest snowman ever. ",
                "While building an igloo, Icy found a mysterious ice crystal that glowed with a soft purple light. ",
                "During a winter walk, Icy heard beautiful music coming from inside a frozen waterfall. ",
                "Icy was making snow angels when a real snow fairy appeared and sprinkled magic dust all around! ",
                "On the coldest day of winter, Icy found footprints made of glitter leading into the snowy forest. ",
                "While catching snowflakes on her tongue, Icy noticed one snowflake wouldn't melt - it whispered her name! ",
                "Icy discovered an old treasure map frozen in a block of ice in her grandmother's attic. ",
                "A friendly cardinal bird tapped on Icy's window with a golden key tied to its tiny foot. ",
                "Icy was sledding down the biggest hill when her sled suddenly grew wings and started to fly! "
            ],
            adventure: [
                "She followed it into the enchanted winter forest, where talking penguins were having a snowball fight! ",
                "Behind the door was a magical winter kingdom where everything was made of ice cream and candy! ",
                "The crystal showed her the way to a hidden ice palace where friendly polar bears were baking cookies! ",
                "She followed the music and discovered a party where snowmen were dancing and singing silly songs! ",
                "The fairy took Icy on a cloud ride above the mountains to meet the Snow Queen who granted wishes! ",
                "The glitter path led to a cozy cottage where woodland creatures were having a tea party! ",
                "The snowflake guided her to the Northern Lights where she could slide down colorful light beams! ",
                "The map led to a cave full of sparkling gems and a friendly dragon who loved to tell jokes! ",
                "The key unlocked a magical toy shop where all the toys came to life and played games with her! ",
                "She soared over rainbow-colored snow mountains and landed in a village of friendly elves making toys! "
            ],
            ending: [
                "Icy made so many new friends and learned that winter magic is real when you believe! She promised to visit again tomorrow. The End! üíú",
                "After the best day ever, Icy returned home with pockets full of magical snowflakes to share with everyone! The End! ‚ú®",
                "Icy realized the real magic was the friends she made along the way. She couldn't wait for more adventures! The End! üåü",
                "When the sun started to set, Icy said goodbye to all her magical friends, knowing she could return whenever it snowed. The End! üåô",
                "Icy brought back a special gift - the ability to make it snow whenever someone needed a little magic! The End! ‚ùÑÔ∏è",
                "As Icy headed home, she discovered she could now understand what animals were saying. Winter was going to be amazing! The End! üêæ",
                "The magical creatures gave Icy a snow globe that showed her where to find them anytime she wanted. The End! üîÆ",
                "Icy learned that being kind and brave opens doors to the most wonderful adventures. Sweet dreams! The End! üò¥",
                "With her new magical powers, Icy became the official Winter Wonder Helper for all the children in town! The End! üéÅ",
                "Icy tucked herself into bed that night, smiling because she knew tomorrow would bring even more magic. The End! üí´"
            ]
        };

        let currentStory = '';

        function generateStory() {
            const discovery = storyChapters.discovery[Math.floor(Math.random() * storyChapters.discovery.length)];
            const adventure = storyChapters.adventure[Math.floor(Math.random() * storyChapters.adventure.length)];
            const ending = storyChapters.ending[Math.floor(Math.random() * storyChapters.ending.length)];
            
            currentStory = discovery + adventure + ending;
            document.getElementById('storyContent').textContent = currentStory;
        }

        function readStory() {
            if (!currentStory) {
                generateStory();
            }
            
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(currentStory);
                utterance.rate = 0.8;
                utterance.pitch = 1.2;
                utterance.volume = 1;
                speechSynthesis.speak(utterance);
            } else {
                alert('Sorry! Your device doesn\'t support reading aloud. üò¢');
            }
        }

        // Vocabulary Builder
        const vocabulary = [
            { emoji: 'üèîÔ∏è', word: 'Glacier', definition: 'A huge river of ice that moves very slowly down a mountain!' },
            { emoji: 'üåå', word: 'Aurora', definition: 'Beautiful colorful lights that dance in the sky at night!' },
            { emoji: 'üè†', word: 'Igloo', definition: 'A house made of blocks of ice and snow!' },
            { emoji: '‚ùÑÔ∏è', word: 'Snowflake', definition: 'A tiny piece of snow with a unique and beautiful pattern!' },
            { emoji: 'üßä', word: 'Icicle', definition: 'A pointy piece of ice that hangs from roofs when it\'s cold!' },
            { emoji: '‚õ∑Ô∏è', word: 'Avalanche', definition: 'When lots of snow slides down a mountain really fast!' },
            { emoji: 'üå®Ô∏è', word: 'Blizzard', definition: 'A big snowstorm with lots of wind and heavy snow!' },
            { emoji: '‚õÑ', word: 'Snowman', definition: 'A fun figure made by stacking snowballs on top of each other!' },
            { emoji: 'üéø', word: 'Ski', definition: 'Long boards you wear on your feet to slide down snowy hills!' },
            { emoji: 'üèÇ', word: 'Snowboard', definition: 'A wide board you stand on to surf down snowy mountains!' },
            { emoji: 'üå¨Ô∏è', word: 'Frost', definition: 'Tiny ice crystals that make everything look sparkly and white!' },
            { emoji: 'üêß', word: 'Penguin', definition: 'A bird that lives in cold places and waddles when it walks!' },
            { emoji: 'üêª‚Äç‚ùÑÔ∏è', word: 'Polar Bear', definition: 'A huge white bear that lives in the Arctic where it\'s super cold!' },
            { emoji: 'ü¶≠', word: 'Seal', definition: 'A playful animal with flippers that loves to swim in icy water!' },
            { emoji: 'ü¶å', word: 'Reindeer', definition: 'A deer with big antlers that lives in snowy places!' },
            { emoji: 'üèîÔ∏è', word: 'Mountain', definition: 'A very tall hill that often has snow on top!' },
            { emoji: 'üå°Ô∏è', word: 'Freeze', definition: 'When water gets so cold it turns into ice!' },
            { emoji: '‚òÉÔ∏è', word: 'Frosty', definition: 'When something is covered with frost and looks icy!' },
            { emoji: 'üß§', word: 'Mittens', definition: 'Warm coverings for your hands that keep your fingers cozy together!' },
            { emoji: 'üß£', word: 'Scarf', definition: 'A long piece of cloth you wrap around your neck to stay warm!' },
            { emoji: 'üéÖ', word: 'Winter', definition: 'The coldest season of the year when snow falls!' },
            { emoji: '‚õ∏Ô∏è', word: 'Ice Skate', definition: 'Special shoes with blades that let you glide across ice!' },
            { emoji: 'üõ∑', word: 'Sled', definition: 'A fun toy that slides down snowy hills really fast!' },
            { emoji: 'üèîÔ∏è', word: 'Peak', definition: 'The very top of a mountain!' },
            { emoji: 'üåä', word: 'Frozen', definition: 'When something is turned into ice because it\'s so cold!' },
            { emoji: 'üíé', word: 'Crystal', definition: 'A clear, sparkly piece of ice or mineral!' },
            { emoji: 'üåü', word: 'Sparkle', definition: 'When something shines with lots of tiny bright lights!' },
            { emoji: '‚ùÑÔ∏è', word: 'Snowdrift', definition: 'A big pile of snow made by the wind!' },
            { emoji: 'üèîÔ∏è', word: 'Summit', definition: 'Another word for the top of a mountain!' },
            { emoji: 'üå®Ô∏è', word: 'Flurry', definition: 'A short time when light snow falls from the sky!' },
            { emoji: 'üßä', word: 'Hail', definition: 'Frozen raindrops that fall like little ice balls!' },
            { emoji: 'üå¨Ô∏è', word: 'Chill', definition: 'A cold feeling in the air that makes you shiver!' },
            { emoji: '‚òÅÔ∏è', word: 'Sleet', definition: 'Rain that freezes into tiny ice pellets as it falls!' },
            { emoji: 'üèîÔ∏è', word: 'Tundra', definition: 'A very cold place where the ground is frozen and few trees grow!' },
            { emoji: 'üßä', word: 'Iceberg', definition: 'A giant piece of ice floating in the ocean!' },
            { emoji: 'üå®Ô∏è', word: 'Whiteout', definition: 'When so much snow is falling you can\'t see anything!' },
            { emoji: '‚ùÑÔ∏è', word: 'Powder', definition: 'Super soft, fluffy snow that\'s perfect for playing in!' },
            { emoji: 'üèîÔ∏è', word: 'Arctic', definition: 'The very cold area at the top of the Earth!' },
            { emoji: 'üê∫', word: 'Wolf', definition: 'A wild dog that lives in forests and howls at the moon!' },
            { emoji: 'ü¶â', word: 'Snowy Owl', definition: 'A beautiful white owl that lives in cold places!' },
            { emoji: 'üå≤', word: 'Evergreen', definition: 'A tree that stays green all winter long!' },
            { emoji: 'üî•', word: 'Hibernate', definition: 'When animals sleep through the whole winter!' },
            { emoji: 'üè†', word: 'Cozy', definition: 'Feeling warm, comfortable, and safe inside!' },
            { emoji: '‚òï', word: 'Warm', definition: 'A nice feeling of heat that makes you comfortable!' },
            { emoji: 'üåô', word: 'Moonlight', definition: 'The soft light from the moon that shines at night!' },
            { emoji: '‚≠ê', word: 'Twinkle', definition: 'When stars or lights shine with a flickering glow!' },
            { emoji: 'üéÅ', word: 'Wonder', definition: 'A feeling of amazement and curiosity about magical things!' },
            { emoji: 'üí´', word: 'Magic', definition: 'Special power that can make impossible things happen!' },
            { emoji: 'üåà', word: 'Rainbow', definition: 'Colorful arcs in the sky made by sunlight and rain!' },
            { emoji: '‚ú®', word: 'Shimmer', definition: 'A soft, gentle shine that looks beautiful!' },
            { emoji: 'ü¶Ñ', word: 'Unicorn', definition: 'A magical horse with a horn on its head!' },
            { emoji: 'üßö', word: 'Fairy', definition: 'A tiny magical creature with wings who spreads magic!' }
        ];

        let currentWordIndex = 0;

        function nextWord() {
            currentWordIndex = (currentWordIndex + 1) % vocabulary.length;
            displayWord();
        }

        function displayWord() {
            const word = vocabulary[currentWordIndex];
            document.getElementById('vocabEmoji').textContent = word.emoji;
            document.getElementById('vocabWord').textContent = word.word;
            document.getElementById('vocabDefinition').textContent = word.definition;
        }

        function teachWord() {
            const word = vocabulary[currentWordIndex];
            const text = `The word is ${word.word}. It means ${word.definition}. Now you try saying ${word.word}!`;
            
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.8;
                utterance.pitch = 1.2;
                utterance.volume = 1;
                speechSynthesis.speak(utterance);
            } else {
                alert('Sorry! Your device doesn\'t support speech. üò¢');
            }
        }

        // Initialize
        displayWord();
    </script>
</body>
</html>
